<div class="contenedor-home">

  <h1 class="main-h1-title">MIS EMPRENDIMIENTOS DE <span>{{ciudadActual()}}</span></h1>

  <div class="card-crear" (click)="openEmprendimientoForm()">
    <i class="fa-solid fa-plus"></i>
    <span>Agrega un emprendimiento</span>
  </div>

  @if (emprendimientos().length > 0) {
    <div class="grid-emprendimientos">
      @for (emprendimiento of emprendimientos(); track emprendimiento.id) {
      <app-emprendimiento-card [emprendimiento]="emprendimiento"></app-emprendimiento-card>
      } 
    </div>

    @if (pageInfo(); as info) {
        @if (info.totalPages > 1) {
            <div class="pagination-controls">
                <button 
                    (click)="onPageChange(info.number - 1)" 
                    [disabled]="info.number === 0"
                    class="btn-pag">
                    <i class="fa-solid fa-chevron-left"></i> Anterior
                </button>
                
                <span class="pag-info">Página {{ info.number + 1 }} de {{ info.totalPages }}</span>
                
                <button 
                    (click)="onPageChange(info.number + 1)" 
                    [disabled]="info.number + 1 >= info.totalPages"
                    class="btn-pag">
                    Siguiente <i class="fa-solid fa-chevron-right"></i>
                </button>
            </div>
        }
      }
    
  }
  
  @if (emprendimientos().length === 0) {
    <div class="estado-vacio">
      <i class="fa-solid fa-arrow-up"></i>
      <p>Esto está un poco vacío... deberías crear un emprendimiento</p>
    </div>
  }
</div>
