<div class="contenedor-home">

  <div class="header-section">

    <h1 class="main-h1-title">
      @if (verTodas()){
        TODOS MIS EMPRENDIMIENTOS
      } @else {
        MIS EMPRENDIMIENTOS DE <span>{{ciudadActual()}}</span>
      }
    </h1>

    <div class="toggle-wrapper">
      <span class="toggle-label" [class.active]="verTodas()">Ver todos mis emprendimientos</span>
      
      <label class="switch-toggle">
        <input type="checkbox" [checked]="verTodas()" (change)="toggleVerTodas()" />
        <span class="slider"></span>
      </label>
    </div>
    
  </div>

  <div class="card-crear" (click)="openEmprendimientoForm()">
    <i class="fa-solid fa-plus"></i>
    <span>Agrega un emprendimiento</span>
  </div>

  @if (emprendimientos().length > 0) {
    <div class="grid-emprendimientos">
      @for (emprendimiento of emprendimientos(); track emprendimiento.id) {
      <app-emprendimiento-card [emprendimiento]="emprendimiento"></app-emprendimiento-card>
      } 
    </div>

    @if (pageInfo(); as info) {
      <app-paginador
        [currentPage]="info.number"
        [totalPages]="info.totalPages"
        (pageChange)="onPageChange($event)">
      </app-paginador>
}
    
  }
  
  @if (emprendimientos().length === 0) {
    <div class="estado-vacio">
      <i class="fa-solid fa-arrow-up"></i>
      <p>Esto está un poco vacío... deberías crear un emprendimiento</p>
    </div>
  }
</div>
