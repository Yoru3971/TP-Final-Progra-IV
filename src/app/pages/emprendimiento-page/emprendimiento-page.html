
@if (emprendimiento(); as datosEmprendimiento) {

    <app-emprendimiento-info
        [datos]="datosEmprendimiento"
        [modo]="modoVista()"
        (accionPrincipal)="handleAccionInfo()">
    </app-emprendimiento-info>

    <app-emprendimiento-filtros-viandas
        [viandasIniciales]="viandasTotales()"
        (filtrosChanged)="onFiltrosChanged($event)">>
    </app-emprendimiento-filtros-viandas>

    <div class="viandas-detalladas-grid">
        @for (vianda of viandas(); track vianda.id) {
        <app-vianda-card-detallada
            [vianda]="vianda"
            [modo]="modoVista()">
            
            <!-- Esto de abajo se agrega después para las funcionalidades del carrito (irían dentro del <app-vianda-card-detallada>) -->
            <!--  [cantidad]="obtenerCantidadEnCarrito(vianda.id)"
                (cantidadChange)="actualizarCarrito(vianda.id, $event)"
            
                (editar)="abrirModalEditarEmprendimiento(vianda)">> -->
        </app-vianda-card-detallada>
        }
    </div>

} @else {
    <p>Cargando...</p>      <!-- AGREGAR esqueleto de carga? o mensaje de "no hay emprendimientos?" -->
}